
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Data misfit functions (fatiando.inversion.misfit) &mdash; fatiando 0.4 documentation</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootswatch-3.2.0/flatly/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    <link rel="stylesheet" href="../_static/font-awesome/css/font-awesome.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '429a4e7de0857f3152fc8af6024d675dd9cf69cb',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.2.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="fatiando 0.4 documentation" href="../index.html" />
    <link rel="up" title="Inverse problems framework (fatiando.inversion)" href="inversion.html" />
    <link rel="next" title="Hyper parameter optimization (fatiando.inversion.hyper_param)" href="inversion.hyper_param.html" />
    <link rel="prev" title="Inverse problems framework (fatiando.inversion)" href="inversion.html" />
    
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

    <!-- Google Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-38125837-1', 'auto');
    ga('send', 'pageview');
    </script>

  </head>
  <body role="document">




  <div id="navbar" class="navbar navbar-default navbar-default ">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html"><img src="../_static/fatiando-logo.png">
          fatiando</a>
        <span class="navbar-text navbar-version pull-left"><b>0.4</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../install.html">Installing</a></li>
                <li><a href="../docs.html">Documentation</a></li>
                <li><a href="../cookbook.html">Cookbook</a></li>
                <li><a href="../develop.html">Developer Guide</a></li>
                <li><a href="https://github.com/fatiando/fatiando"><i class="fa fa-github-square fa-lg" title="Source code on Github"></i></a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"></ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="module-fatiando.inversion.misfit">
<span id="data-misfit-functions-fatiando-inversion-misfit"></span><span id="fatiando-inversion-misfit"></span><h1>Data misfit functions (<code class="docutils literal"><span class="pre">fatiando.inversion.misfit</span></code>)<a class="headerlink" href="#module-fatiando.inversion.misfit" title="Permalink to this headline">¶</a></h1>
<p>Defines base classes to represent a data-misfit functions (l2-norm, etc)</p>
<p>These classes can be used to implement parameter estimation problems
(inversions). They automate most of the boiler plate required and provide
direct access to ready-made optimization routines and regularization.</p>
<p>For now, only implements an l2-norm data misfit:</p>
<ul class="simple">
<li><a class="reference internal" href="#fatiando.inversion.misfit.Misfit" title="fatiando.inversion.misfit.Misfit"><code class="xref py py-class docutils literal"><span class="pre">Misfit</span></code></a>: an l2-norm data-misfit function</li>
</ul>
<p>See the documentation for <a class="reference internal" href="inversion.html#module-fatiando.inversion" title="fatiando.inversion"><code class="xref py py-mod docutils literal"><span class="pre">fatiando.inversion</span></code></a> for examples of using
<code class="docutils literal"><span class="pre">Misfit</span></code>.</p>
<hr class="docutils" />
<dl class="class">
<dt id="fatiando.inversion.misfit.Misfit">
<em class="property">class </em><code class="descclassname">fatiando.inversion.misfit.</code><code class="descname">Misfit</code><span class="sig-paren">(</span><em>data</em>, <em>nparams</em>, <em>islinear</em>, <em>cache=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/fatiando/inversion/misfit.html#Misfit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fatiando.inversion.misfit.Misfit" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="inversion.base.html#fatiando.inversion.base.OptimizerMixin" title="fatiando.inversion.base.OptimizerMixin"><code class="xref py py-class docutils literal"><span class="pre">fatiando.inversion.base.OptimizerMixin</span></code></a>, <a class="reference internal" href="inversion.base.html#fatiando.inversion.base.OperatorMixin" title="fatiando.inversion.base.OperatorMixin"><code class="xref py py-class docutils literal"><span class="pre">fatiando.inversion.base.OperatorMixin</span></code></a></p>
<p>An l2-norm data-misfit function.</p>
<p>This is a kind of objective function that measures the misfit between
observed data <span class="math">\(\bar{d}^o\)</span> and data predicted by a set of model
parameters <span class="math">\(\bar{d} = \bar{f}(\bar{p})\)</span>.</p>
<p>The l2-norm data-misfit is defined as:</p>
<div class="math">
\[\phi (\bar{p}) = \bar{r}^T \bar{r}\]</div>
<p>where <span class="math">\(\bar{r} = \bar{d}^o - \bar{d}\)</span> is the residual vector and
<span class="math">\(N\)</span> is the number of data.</p>
<p>When subclassing this class, you must implement the method:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">predicted(self,</span> <span class="pre">p)</span></code>: calculates the predicted data
<span class="math">\(\bar{d}\)</span> for a given parameter vector <code class="docutils literal"><span class="pre">p</span></code></li>
</ul>
<p>If you want to use any gradient-based solver (you probably do), you&#8217;ll need
to implement the method:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">jacobian(self,</span> <span class="pre">p)</span></code>: calculates the Jacobian matrix of
<span class="math">\(\bar{f}(\bar{p})\)</span> evaluated at <code class="docutils literal"><span class="pre">p</span></code></li>
</ul>
<p>If <span class="math">\(\bar{f}\)</span> is linear, then the Jacobian will be cached in memory so
that it is only calculated once when using the class multiple times. So
solving the same problem with different methods or using an iterative
method doesn&#8217;t have the penalty of recalculating the Jacobian.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">When subclassing, be careful not to set the following attributes:
<code class="docutils literal"><span class="pre">data</span></code>, <code class="docutils literal"><span class="pre">nparams</span></code>, <code class="docutils literal"><span class="pre">islinear</span></code>, <code class="docutils literal"><span class="pre">nparams</span></code>, <code class="docutils literal"><span class="pre">ndata</span></code>, and
(most importantly) <code class="docutils literal"><span class="pre">regul_param</span></code> and <code class="docutils literal"><span class="pre">_regularizing_parameter</span></code>.
This could mess with internal behavior and break things in unexpected
ways.</p>
</div>
<p>Parameters:</p>
<ul>
<li><dl class="first docutils">
<dt>data <span class="classifier-delimiter">:</span> <span class="classifier">1d-array</span></dt>
<dd><p class="first last">The observed data vector <span class="math">\(\bar{d}^o\)</span></p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>nparams <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd><p class="first last">The number of parameters in parameter vector <span class="math">\(\bar{p}\)</span></p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>islinear <span class="classifier-delimiter">:</span> <span class="classifier">True or False</span></dt>
<dd><p class="first last">Whether <span class="math">\(\bar{f}\)</span> is linear or not.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>cache <span class="classifier-delimiter">:</span> <span class="classifier">True</span></dt>
<dd><p class="first last">Whether or not to cache the output of some methods to avoid recomputing
matrices and vectors when passed the same input parameter vector.</p>
</dd>
</dl>
</li>
</ul>
<dl class="method">
<dt id="fatiando.inversion.misfit.Misfit.config">
<code class="descname">config</code><span class="sig-paren">(</span><em>method</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#fatiando.inversion.misfit.Misfit.config" title="Permalink to this definition">¶</a></dt>
<dd><p>Configure the optimization method and its parameters.</p>
<p>This sets the method used by
<code class="xref py py-meth docutils literal"><span class="pre">fit</span></code> and the keyword
arguments that are passed to it.</p>
<p>Parameters:</p>
<ul>
<li><dl class="first docutils">
<dt>method <span class="classifier-delimiter">:</span> <span class="classifier">string</span></dt>
<dd><p class="first last">The optimization method. One of: <code class="docutils literal"><span class="pre">'linear'</span></code>, <code class="docutils literal"><span class="pre">'newton'</span></code>,
<code class="docutils literal"><span class="pre">'levmarq'</span></code>, <code class="docutils literal"><span class="pre">'steepest'</span></code>, <code class="docutils literal"><span class="pre">'acor'</span></code></p>
</dd>
</dl>
</li>
</ul>
<p>Other keyword arguments that can be passed are the ones allowed by each
method.</p>
<p>Some methods have required arguments:</p>
<ul class="simple">
<li><em>newton</em>, <em>levmarq</em> and <em>steepest</em> require the <code class="docutils literal"><span class="pre">initial</span></code> argument
(an initial estimate for the gradient descent)</li>
<li><em>acor</em> requires the <code class="docutils literal"><span class="pre">bounds</span></code> argument (min/max values for the
search space)</li>
</ul>
<p>See the corresponding docstrings for more information:</p>
<ul class="simple">
<li><a class="reference internal" href="inversion.optimization.html#fatiando.inversion.optimization.linear" title="fatiando.inversion.optimization.linear"><code class="xref py py-meth docutils literal"><span class="pre">linear</span></code></a></li>
<li><a class="reference internal" href="inversion.optimization.html#fatiando.inversion.optimization.newton" title="fatiando.inversion.optimization.newton"><code class="xref py py-meth docutils literal"><span class="pre">newton</span></code></a></li>
<li><a class="reference internal" href="inversion.optimization.html#fatiando.inversion.optimization.levmarq" title="fatiando.inversion.optimization.levmarq"><code class="xref py py-meth docutils literal"><span class="pre">levmarq</span></code></a></li>
<li><a class="reference internal" href="inversion.optimization.html#fatiando.inversion.optimization.steepest" title="fatiando.inversion.optimization.steepest"><code class="xref py py-meth docutils literal"><span class="pre">steepest</span></code></a></li>
<li><a class="reference internal" href="inversion.optimization.html#fatiando.inversion.optimization.acor" title="fatiando.inversion.optimization.acor"><code class="xref py py-meth docutils literal"><span class="pre">acor</span></code></a></li>
</ul>
</dd></dl>

<dl class="method">
<dt id="fatiando.inversion.misfit.Misfit.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><em>deep=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/fatiando/inversion/misfit.html#Misfit.copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fatiando.inversion.misfit.Misfit.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a copy of me together with all the cached methods.</p>
</dd></dl>

<dl class="attribute">
<dt id="fatiando.inversion.misfit.Misfit.estimate_">
<code class="descname">estimate_</code><a class="headerlink" href="#fatiando.inversion.misfit.Misfit.estimate_" title="Permalink to this definition">¶</a></dt>
<dd><p>A nicely formatted version of the estimate.</p>
<p>If the class implements a <cite>fmt_estimate</cite> method, this will its results.
This can be used to convert the parameter vector to a more useful form,
like a <a class="reference internal" href="mesher.html#module-fatiando.mesher" title="fatiando.mesher"><code class="xref py py-mod docutils literal"><span class="pre">fatiando.mesher</span></code></a> object.</p>
</dd></dl>

<dl class="method">
<dt id="fatiando.inversion.misfit.Misfit.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fatiando.inversion.misfit.Misfit.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Solve for the parameter vector that minimizes this objective function.</p>
<p>Uses the optimization method and parameters defined using the
<a class="reference internal" href="inversion.base.html#fatiando.inversion.base.OptimizerMixin.config" title="fatiando.inversion.base.OptimizerMixin.config"><code class="xref py py-meth docutils literal"><span class="pre">config</span></code></a> method.</p>
<p>The estimated parameter vector can be accessed through the
<code class="docutils literal"><span class="pre">p_</span></code> attribute. A (possibly) formatted version (converted to a more
manageable type) of the estimate can be accessed through the property
<code class="docutils literal"><span class="pre">estimate_</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="fatiando.inversion.misfit.Misfit.fmt_estimate">
<code class="descname">fmt_estimate</code><span class="sig-paren">(</span><em>p</em><span class="sig-paren">)</span><a class="headerlink" href="#fatiando.inversion.misfit.Misfit.fmt_estimate" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when accessing the property <code class="docutils literal"><span class="pre">estimate_</span></code>.</p>
<p>Use this to convert the parameter vector (p) to a more useful form,
like a geometric object, etc.</p>
<p>Parameters:</p>
<ul>
<li><dl class="first docutils">
<dt>p <span class="classifier-delimiter">:</span> <span class="classifier">1d-array</span></dt>
<dd><p class="first last">The parameter vector.</p>
</dd>
</dl>
</li>
</ul>
<p>Returns:</p>
<ul>
<li><dl class="first docutils">
<dt>formatted</dt>
<dd><p class="first last">Pretty much anything you want.</p>
</dd>
</dl>
</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="fatiando.inversion.misfit.Misfit.gradient">
<code class="descname">gradient</code><span class="sig-paren">(</span><em>p</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/fatiando/inversion/misfit.html#Misfit.gradient"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fatiando.inversion.misfit.Misfit.gradient" title="Permalink to this definition">¶</a></dt>
<dd><p>The gradient vector of the misfit function.</p>
<div class="math">
\[\bar{g} = -2\bar{\bar{J}}^T\bar{r}\]</div>
<p>where <span class="math">\(\bar{\bar{J}}\)</span> is the Jacobian matrix and <span class="math">\(\bar{r}\)</span>
is the residual vector.</p>
<p>Parameters:</p>
<ul>
<li><dl class="first docutils">
<dt>p <span class="classifier-delimiter">:</span> <span class="classifier">1d-array</span></dt>
<dd><p class="first last">The parameter vector where the gradient is evaluated</p>
</dd>
</dl>
</li>
</ul>
<p>Returns:</p>
<ul>
<li><dl class="first docutils">
<dt>gradient <span class="classifier-delimiter">:</span> <span class="classifier">1d-array</span></dt>
<dd><p class="first last">The gradient vector.</p>
</dd>
</dl>
</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="fatiando.inversion.misfit.Misfit.hessian">
<code class="descname">hessian</code><span class="sig-paren">(</span><em>p</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/fatiando/inversion/misfit.html#Misfit.hessian"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fatiando.inversion.misfit.Misfit.hessian" title="Permalink to this definition">¶</a></dt>
<dd><p>The Hessian of the misfit function with respect to the parameters.</p>
<p>Calculated using the Gauss approximation:</p>
<div class="math">
\[\bar{\bar{H}} \approx 2\bar{\bar{J}}^T\bar{\bar{J}}\]</div>
<p>where <span class="math">\(\bar{\bar{J}}\)</span> is the Jacobian matrix.</p>
<p>For linear problems, the Hessian matrix is cached in memory, so calling
this method again will not trigger a re-calculation.</p>
<p>Parameters:</p>
<ul>
<li><dl class="first docutils">
<dt>p <span class="classifier-delimiter">:</span> <span class="classifier">1d-array</span></dt>
<dd><p class="first last">The parameter vector where the Hessian is evaluated</p>
</dd>
</dl>
</li>
</ul>
<p>Returns:</p>
<ul>
<li><dl class="first docutils">
<dt>hessian <span class="classifier-delimiter">:</span> <span class="classifier">2d-array</span></dt>
<dd><p class="first last">The Hessian matrix</p>
</dd>
</dl>
</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="fatiando.inversion.misfit.Misfit.predicted">
<code class="descname">predicted</code><span class="sig-paren">(</span><em>p=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/fatiando/inversion/misfit.html#Misfit.predicted"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fatiando.inversion.misfit.Misfit.predicted" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the predicted data for a given parameter vector.</p>
<p>Parameters:</p>
<ul>
<li><dl class="first docutils">
<dt>p <span class="classifier-delimiter">:</span> <span class="classifier">1d-array or None</span></dt>
<dd><p class="first last">The parameter vector used to calculate the predicted data. If None,
will use the current estimate stored in <code class="docutils literal"><span class="pre">estimate_</span></code>.</p>
</dd>
</dl>
</li>
</ul>
<p>Returns:</p>
<ul>
<li><dl class="first docutils">
<dt>predicted <span class="classifier-delimiter">:</span> <span class="classifier">1d-array or list of 1d-arrays</span></dt>
<dd><p class="first last">The predicted data. If this is the sum of 1 or more Misfit
instances, will return the predicted data from each of the summed
misfits in the order of the sum.</p>
</dd>
</dl>
</li>
</ul>
</dd></dl>

<dl class="attribute">
<dt id="fatiando.inversion.misfit.Misfit.regul_param">
<code class="descname">regul_param</code><a class="headerlink" href="#fatiando.inversion.misfit.Misfit.regul_param" title="Permalink to this definition">¶</a></dt>
<dd><p>The regularization parameter (scale factor) for the objetive function.</p>
<p>Defaults to 1.</p>
</dd></dl>

<dl class="method">
<dt id="fatiando.inversion.misfit.Misfit.residuals">
<code class="descname">residuals</code><span class="sig-paren">(</span><em>p=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/fatiando/inversion/misfit.html#Misfit.residuals"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fatiando.inversion.misfit.Misfit.residuals" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the residuals vector (observed - predicted data).</p>
<p>Parameters:</p>
<ul>
<li><dl class="first docutils">
<dt>p <span class="classifier-delimiter">:</span> <span class="classifier">1d-array or None</span></dt>
<dd><p class="first last">The parameter vector used to calculate the residuals. If None, will
use the current estimate stored in <code class="docutils literal"><span class="pre">estimate_</span></code>.</p>
</dd>
</dl>
</li>
</ul>
<p>Returns:</p>
<ul>
<li><dl class="first docutils">
<dt>residuals <span class="classifier-delimiter">:</span> <span class="classifier">1d-array or list of 1d-arrays</span></dt>
<dd><p class="first last">The residual vector. If this is the sum of 1 or more Misfit
instances, will return the residual vector from each of the summed
misfits in the order of the sum.</p>
</dd>
</dl>
</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="fatiando.inversion.misfit.Misfit.set_weights">
<code class="descname">set_weights</code><span class="sig-paren">(</span><em>weights</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/fatiando/inversion/misfit.html#Misfit.set_weights"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fatiando.inversion.misfit.Misfit.set_weights" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the data weights.</p>
<p>Using weights for the data, the least-squares data-misfit function
becomes:</p>
<div class="math">
\[\phi = \bar{r}^T \bar{\bar{W}}\bar{r}\]</div>
<p>Parameters:</p>
<ul>
<li><dl class="first docutils">
<dt>weights <span class="classifier-delimiter">:</span> <span class="classifier">1d-array or 2d-array or None</span></dt>
<dd><p class="first last">Weights for the data vector.
If None, will remove any weights that have been set before.
If it is a 2d-array, it will be interpreted as the weight matrix
<span class="math">\(\bar{\bar{W}}\)</span>.
If it is a 1d-array, it will be interpreted as the diagonal of the
weight matrix (all off-diagonal elements will default to zero).
The weight matrix can be a sparse array from <code class="docutils literal"><span class="pre">scipy.sparse</span></code>.</p>
</dd>
</dl>
</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="fatiando.inversion.misfit.Misfit.value">
<code class="descname">value</code><span class="sig-paren">(</span><em>p</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/fatiando/inversion/misfit.html#Misfit.value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fatiando.inversion.misfit.Misfit.value" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the value of the misfit for a given parameter vector.</p>
<p>The value is given by:</p>
<div class="math">
\[\phi(\bar{p}) = \bar{r}^T\bar{\bar{W}}\bar{r}\]</div>
<p>where <span class="math">\(\bar{r}\)</span> is the residual vector and <span class="math">\(bar{\bar{W}}\)</span>
are optional data weights.</p>
<p>Parameters:</p>
<ul>
<li><dl class="first docutils">
<dt>p <span class="classifier-delimiter">:</span> <span class="classifier">1d-array or None</span></dt>
<dd><p class="first last">The parameter vector.</p>
</dd>
</dl>
</li>
</ul>
<p>Returns:</p>
<ul>
<li><dl class="first docutils">
<dt>value <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">The value of the misfit function.</p>
</dd>
</dl>
</li>
</ul>
</dd></dl>

</dd></dl>

</div>


    </div>
      
  </div>
</div>
<footer class="footer">
    <div class="container">
        <p class="pull-right">
            <a href="#">Back to top</a>
            
                <br/>
                
<div id="sourcelink">
  <a href="../_sources/api/inversion.misfit.txt"
     rel="nofollow">Source</a>
</div>
            
        </p>

        <p class="text-center">
            &copy; Copyright 2010-2016, Leonardo Uieda.
            Created using <a
                href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
        </p>
    </div>
</footer>
  </body>
</html>